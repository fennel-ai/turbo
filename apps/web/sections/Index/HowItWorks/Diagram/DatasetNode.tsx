import { Handle, Position } from 'reactflow';
import styled from '@emotion/styled';

interface DataProp {
	label: string;
}

type Props = {
	data: DataProp
};

const Root = styled.div`
	position: relative;

	& p { 
		position: absolute;
		top: 52%;
		left: 50%;
		transform: translate3d(-50%, -50%, 0);
		margin: 0;
		text-align: center;
		font-variation-settings: "wght" 600;
		color: #4F3FA6;
		font-size: 0.75rem;
		line-height: 1rem;
	}
`;

const DatasetNode = ({ data }: Props) => {
	return (
		<>
			<Handle
				type="target"
				position={Position.Left}
				id="in"
				style={{ zIndex: -1 }}
			/>
			<Root>
				<svg width="108" height="72" viewBox="0 0 108 72" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path opacity="0.12" d="M54 24.0005C76.3675 24.0005 94.5 19.9711 94.5 15.0005V57C94.5 61.98 76.5 66 54 66C31.5 66 13.5 61.98 13.5 57V15.0005C13.5 19.9711 31.6325 24.0005 54 24.0005Z" fill="#4F3FA6" />
					<mask id="path-2-outside-1_594_12407" maskUnits="userSpaceOnUse" x="11.5" y="4" width="85" height="64" fill="black">
						<rect fill="white" x="11.5" y="4" width="85" height="64" />
						<path d="M54 24C76.3675 24 94.5 19.9706 94.5 15C94.5 10.0294 76.3675 6 54 6C31.6325 6 13.5 10.0294 13.5 15C13.5 19.9706 31.6325 24 54 24Z" />
						<path d="M94.5 36C94.5 40.98 76.5 45 54 45C31.5 45 13.5 40.98 13.5 36" />
						<path d="M13.5 15V57C13.5 61.98 31.5 66 54 66C76.5 66 94.5 61.98 94.5 57V15" />
					</mask>
					<path d="M96.5 36C96.5 34.8954 95.6046 34 94.5 34C93.3954 34 92.5 34.8954 92.5 36H96.5ZM15.5 36C15.5 34.8954 14.6046 34 13.5 34C12.3954 34 11.5 34.8954 11.5 36H15.5ZM92.5 15C92.5 15.002 92.4999 15.0072 92.4974 15.0184C92.4947 15.03 92.4882 15.0532 92.4719 15.0889C92.4382 15.1626 92.3634 15.288 92.2059 15.459C91.879 15.8141 91.3007 16.2527 90.3871 16.7327C88.564 17.6905 85.7945 18.6137 82.204 19.4116C75.0553 21.0002 65.0827 22 54 22V26C65.2848 26 75.5622 24.9851 83.0717 23.3163C86.8102 22.4856 89.9718 21.4694 92.2475 20.2737C93.3833 19.677 94.3964 18.9853 95.1484 18.1686C95.9104 17.3411 96.5 16.2733 96.5 15H92.5ZM54 22C42.9173 22 32.9447 21.0002 25.796 19.4116C22.2055 18.6137 19.436 17.6905 17.6129 16.7327C16.6993 16.2527 16.121 15.8141 15.7941 15.459C15.6366 15.288 15.5618 15.1626 15.5281 15.0889C15.5118 15.0532 15.5053 15.03 15.5026 15.0184C15.5001 15.0072 15.5 15.002 15.5 15H11.5C11.5 16.2733 12.0896 17.3411 12.8516 18.1686C13.6036 18.9853 14.6167 19.677 15.7525 20.2737C18.0282 21.4694 21.1898 22.4856 24.9283 23.3163C32.4378 24.9851 42.7152 26 54 26V22ZM15.5 15C15.5 14.998 15.5001 14.9928 15.5026 14.9816C15.5053 14.97 15.5118 14.9468 15.5281 14.9111C15.5618 14.8374 15.6366 14.712 15.7941 14.541C16.121 14.1859 16.6993 13.7473 17.6129 13.2673C19.436 12.3095 22.2055 11.3863 25.796 10.5884C32.9447 8.99983 42.9173 8 54 8V4C42.7152 4 32.4378 5.01489 24.9283 6.68366C21.1898 7.51445 18.0282 8.53065 15.7525 9.72628C14.6167 10.323 13.6036 11.0147 12.8516 11.8314C12.0896 12.6589 11.5 13.7267 11.5 15H15.5ZM54 8C65.0827 8 75.0553 8.99983 82.204 10.5884C85.7945 11.3863 88.564 12.3095 90.3871 13.2673C91.3007 13.7473 91.879 14.1859 92.2059 14.541C92.3634 14.712 92.4382 14.8374 92.4719 14.9111C92.4882 14.9468 92.4947 14.97 92.4974 14.9816C92.4999 14.9928 92.5 14.998 92.5 15H96.5C96.5 13.7267 95.9104 12.6589 95.1484 11.8314C94.3964 11.0147 93.3833 10.323 92.2475 9.72628C89.9718 8.53065 86.8102 7.51445 83.0717 6.68366C75.5622 5.01489 65.2848 4 54 4V8ZM92.5 36C92.5 36.0009 92.5016 36.0281 92.4707 36.0961C92.4369 36.1709 92.3624 36.2965 92.2064 36.4671C91.8826 36.8214 91.3092 37.2594 90.4017 37.7388C88.5903 38.6957 85.8347 39.6181 82.253 40.4153C75.1221 42.0023 65.1501 43 54 43V47C65.3499 47 75.6279 45.9877 83.122 44.3197C86.8528 43.4894 90.0034 42.4731 92.2701 41.2756C93.4017 40.6778 94.4104 39.9847 95.1588 39.1659C95.9177 38.3357 96.5 37.2687 96.5 36H92.5ZM54 43C42.8499 43 32.8779 42.0023 25.747 40.4153C22.1653 39.6181 19.4097 38.6957 17.5983 37.7388C16.6908 37.2594 16.1174 36.8214 15.7936 36.4671C15.6376 36.2965 15.5631 36.1709 15.5293 36.0961C15.4984 36.0281 15.5 36.0009 15.5 36H11.5C11.5 37.2687 12.0823 38.3357 12.8412 39.1659C13.5896 39.9847 14.5983 40.6778 15.7299 41.2756C17.9966 42.4731 21.1472 43.4894 24.878 44.3197C32.3721 45.9877 42.6501 47 54 47V43ZM11.5 15V57H15.5V15H11.5ZM11.5 57C11.5 58.2687 12.0823 59.3357 12.8412 60.1659C13.5896 60.9847 14.5983 61.6778 15.7299 62.2756C17.9966 63.4731 21.1472 64.4894 24.878 65.3197C32.3721 66.9877 42.6501 68 54 68V64C42.8499 64 32.8779 63.0023 25.747 61.4153C22.1653 60.6181 19.4097 59.6957 17.5983 58.7388C16.6908 58.2594 16.1174 57.8214 15.7936 57.4671C15.6376 57.2965 15.5631 57.1709 15.5293 57.0961C15.4984 57.0281 15.5 57.0009 15.5 57H11.5ZM54 68C65.3499 68 75.6279 66.9877 83.122 65.3197C86.8528 64.4894 90.0034 63.4731 92.2701 62.2756C93.4017 61.6778 94.4104 60.9847 95.1588 60.1659C95.9177 59.3357 96.5 58.2687 96.5 57H92.5C92.5 57.0009 92.5016 57.0281 92.4707 57.0961C92.4369 57.1709 92.3624 57.2965 92.2064 57.4671C91.8826 57.8214 91.3092 58.2594 90.4017 58.7388C88.5903 59.6957 85.8347 60.6181 82.253 61.4153C75.1221 63.0023 65.1501 64 54 64V68ZM96.5 57V15H92.5V57H96.5Z" fill="#4F3FA6" mask="url(#path-2-outside-1_594_12407)" />
				</svg>
				<p>{data.label}</p>
			</Root>
			<Handle
				type="source"
				position={Position.Right}
				id="out"
				style={{ zIndex: -1 }}
			/>
		</>
	);
};

export default DatasetNode;